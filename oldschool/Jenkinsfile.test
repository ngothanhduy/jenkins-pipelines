pipeline {
    agent any

    options {
        timeout(10)
        timestamps()
        skipDefaultCheckout()
        buildDiscarder logRotator(artifactDaysToKeepStr: '10', artifactNumToKeepStr: '10', daysToKeepStr: '10', numToKeepStr: '10')
    }

    parameters {
        string(name: 'TEST', defaultValue: '')
    }

    stages {
        stage("test") {
            steps {
                script {
                    println("ENV: " + env.TEST)
                    env.TEST = "new_env_${params.TEST}"
                    println("PARAMS: " + params.TEST)
                    println("ENV: " + env.TEST)
                    println("This is not have header: ${TEST}")
                }
            }
        }
    }

    post {
        cleanup {
            cleanWs deleteDirs: true
        }
    }
}